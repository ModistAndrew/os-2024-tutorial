\chapter{文件系统}
文件是UNIX设计哲学中的一个重要组成部分，
一切皆文件的抽象使得用户调整系统的参数也变得更加简单。
因此，如何实现一个既能管理系统又能管理日常文件的文件系统便显得更加重要。
Linux通过一套统一的VFS（虚拟文件系统）抽象达成这一目标。
在本实践部分，你需要对VFS进行修改并且尝试使用文件系统。

\section{inode和扩展属性管理}

目标：读取设置inode的基本信息，引入新的\textbf{文件扩展属性(Extended file attributes)}。

测试：文件扩展属性的读写。



\section{用户态文件系统}
由于文件系统在Linux中被编译为内核对象（kernel object），文件系统崩溃会传导到内核造成内核不可用。此外，内核对象的灵活性较差。
Linux给出了FUSE的服务，允许在用户态实现一个文件系统。

目标：使用FUSE实现GPT服务。声明一个GPTfs，其中的目录为每一个对话session，对话session文件夹下的input为本轮用户输入的prompt，output文件为GPT输出的结果。每一轮对话都是单轮对话，无需考虑记录上下文。

测试：基本的读写效果

\section{用户空间下的内存磁盘}
随着硬件的发展，内存的价格已经显著下降。
内存的访问速度非常快，可以作为一部分反复读写的文件的临时存储。
在这一个任务中，你需要从用户态划出一块区域用于磁盘存储。

目标：使用FUSE实现RAMfs功能，要求读写碎片尽可能少并且支持硬链接。

提示：可以参考内核中RAMfs的功能，但是不要抄袭。

测试：文件读写和并发读写。
